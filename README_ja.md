- [English](README.md) | [中文](README_zh.md) | [Français](README_fr.md) | [Española](README_es.md)

# WiseNet
## **インテリジェントなナレッジベース構築ツール**

---

## **1. プロジェクト紹介**

**WiseNet** は、**大規模言語モデル（LLMs）**を活用したインテリジェントなナレッジ管理ツールです。関連するサブ質問を自動生成し、**ネットワーク化されたナレッジグラフ**を構築することで、**効率的で直感的な**ナレッジ管理体験を提供します。このシステムは、**問題の入力からナレッジネットワークの構築までを完全に自動化**し、ナレッジの整理と検索効率を大幅に向上させます。

### **コア機能**
- **インテリジェントなナレッジ拡張**: サブ質問を自動生成し、明確で階層的なナレッジグラフを構築します。
- **多言語サポート**: **SBERT高精度ベクトルモデル**を使用し、クロスランゲージのQ&Aとナレッジ構築を実現します。
- **複数データソースの統合**: **ドキュメントアップロード（txt、markdown、Word、Excel、PPT、CSV、PDF、HTML、XML、JSON）**と**ウェブページ解析**をサポートし、自動的にコンテンツをベクトル化します。
- **強力な検索機能**: **Neo4j**と**Milvus**を組み合わせ、**効率的なベクトル検索**と**セマンティックマッチング**を実現し、ナレッジ発見を最適化します。
- **検索拡張生成（RAG）**: 構造化されたグラフとベクトルデータベースから関連ナレッジを検索し、LLMの応答を強化し、正確で文脈に即した回答を提供します。
- **モジュール式アーキテクチャ**: 柔軟で拡張可能であり、さまざまなLLMモデルやカスタム機能モジュールの統合をサポートします。

WiseNetは、**Neo4j、Milvus、D3.js**などの最先端技術を統合し、**物流スケジューリング、カスタマーサポートナレッジベース、企業ナレッジ管理**などの業界向けに、**インテリジェントでワンストップのナレッジ管理ソリューション**を提供します。

---

## **2. プロジェクトの特徴**

### **📌 インテリジェントなナレッジ構築**
- **自動化されたナレッジネットワーク拡張**: LLMを使用して関連するサブ質問を生成し、ナレッジの完全性と使いやすさを向上させます。
- **ナレッジグラフの保存**: **Neo4j**を活用して構造化されたナレッジを保存し、階層関係とノードの関連分析をサポートします。
- **NLPエンティティ抽出**: テキストからキーエンティティ（名前、組織、概念など）を自動抽出し、ナレッジネットワークを充実させます。

### **🎯 効率的な検索とベクトル検索**
- **ベクトル検索**:
  - 現在のソリューション: **Neo4j HNSWベクトルインデックス**を使用し、セマンティックレベルの類似性マッチングを実現します。
  - 将来のソリューション: **Milvus**を統合し、大規模なナレッジクエリでのより効率的なベクトル検索を実現します。
- **セマンティック検索と関連マッチング**: **Neo4j + LLM**を組み合わせ、**正確なセマンティック検索**と**インテリジェントな推奨**を提供します。

### **📊 可視化とナレッジ分析**
- **D3.jsナレッジグラフ**: ナレッジネットワークのインタラクティブな可視化を提供し、**動的更新、ノードのドラッグ、関係の編集**をサポートします。
- **多次元分析**:
  - **全体ナレッジネットワーク分析**: ナレッジ構造とキーノードの洞察を提供します。
  - **単一ノード分析**: ナレッジポイントとその関係を深く掘り下げます。
  - **ドキュメントとウェブページの単一点分析**: パーソナライズされたナレッジ分析と関連性の発見をサポートします。

### **🌍 多言語サポートとドキュメント解析**
- **多言語機能**: **SBERT多言語ベクトルモデル**を使用し、クロスランゲージのQ&Aとナレッジ管理を可能にします。
- **ドキュメント解析とウェブページ処理**:
  - 複数のフォーマット（**txt、markdown、Word、Excel、PPT、CSV、PDF、HTML、XML、JSON**）をサポートします。
  - ウェブコンテンツを解析し、ベクトル化します。将来的には、**ウェブサイトの自動更新追跡**をサポートし、リアルタイムのナレッジベース更新を維持します。

### **🤖 LLMサポートと拡張性**
- **ローカルLLMサポート**: **Ollama**と互換性があり、**WizardLM2**や**Llama3**などのローカルLLMをサポートします。
- **API LLM統合**: **OpenAI、Anthropic、Tongyi、Doubao、DeepSeek**などの主要なLLMをサポートします。
- **モジュール式アーキテクチャ**: **高度に拡張可能で互換性があり**、新しいAIモデル、データベース、ビジネスモジュールの統合をサポートし、多様なアプリケーションシナリオに対応します。

---

## **3. アプリケーションシナリオ**

WiseNetのインテリジェントなナレッジ管理機能は、さまざまな分野に適用できます：

### 🚚 **物流スケジューリングの最適化**
- **インテリジェントな配送決定**: 物流スケジューリングのナレッジネットワークを構築し、最適なルートとリソース配分のサブ質問を自動生成します。
- **リアルタイム情報統合**: 天気、交通、注文などの複数データソースを自動解析し、統合して動的な配送推奨を提供します。
- **異常処理**: ナレッジグラフ内の問題ノードを迅速に特定し、解決策を生成して物流の混乱を最小限に抑えます。

### 📞 **カスタマーサポートナレッジベース**
- **インテリジェントQ&Aシステム**: FAQとサブ質問を自動生成し、多層的なカスタマーサポートナレッジベースを構築し、応答速度と精度を向上させます。
- **多言語サポート**: グローバルビジネス運営のためのクロスランゲージカスタマーサポートQ&Aを可能にします。
- **ナレッジ更新**: 最新のドキュメントやウェブコンテンツを自動解析し、リアルタイムで正確なナレッジベースを維持します。

### 🏢 **企業ナレッジ管理**
- **ナレッジの蓄積と共有**: 内部ドキュメントや会議記録を構造化されたナレッジネットワークに変換し、簡単に検索や学習ができるようにします。
- **インテリジェント検索と推奨**: セマンティック検索を使用して関連ナレッジを特定し、関連コンテンツを推奨します。
- **ナレッジ分析**: 企業ナレッジネットワークを分析し、キーノードとギャップを特定し、ナレッジ管理戦略を最適化します。

### 🏭 **製造業と産業**
- **設備メンテナンスと故障診断**: 過去のデータとメンテナンス記録に基づいて故障を予測し、メンテナンススケジュールを最適化します。
- **サプライチェーン最適化**: サプライチェーンナレッジネットワークを構築し、在庫管理と生産スケジューリングを最適化します。
- **品質管理**: 生産データを分析し、品質問題を特定し、製品の合格率を向上させます。

### ⚖️ **法律とコンプライアンス**
- **法律文書解析**: 規制ナレッジグラフを構築し、法律研究とコンプライアンス管理を強化します。
- **ケース分析と推論**: 法的判例と規制に基づいてインテリジェントな推奨を提供します。
- **契約レビュー自動化**: 契約条項のリスクを特定し、修正を提案して契約管理効率を向上させます。

---

## **4. システムアーキテクチャ**

```
+--------------------------------------------------------+
|                     ユーザーインターフェース（フロントエンド）          |
|         - クエリ入力        - ナレッジグラフUI    |
+------------------------+------------------------------+
                         |
+------------------------v------------------------------+
|                 Q&Aと拡張エンジン（バックエンド）   |
|   - LLM API呼び出し        - サブ質問生成   |
|   - データストレージ管理    - ナレッジ検索       |
|   - NLPエンティティ抽出 - ドキュメント解析         |
+------------------------+------------------------------+
                         |
+------------------------v------------------------------+
|                   データストレージ層                 |
|   - グラフデータベース（Neo4j） - 構造化ナレッジ    |
|   - ベクトル検索（Neo4j） - 現在の検索       |
|   - ベクトルデータベース（Milvus） - 将来の拡張     |
+--------------------------------------------------------+
```

## **基本概念**
### **ナレッジベース**
特定のドメインに関連するナレッジの集合。例えば、**物流スケジューリング**や**カスタマーサポートナレッジベース**など。

### **ナレッジベーストピック**
ナレッジベース内の異なるトピック。それぞれが独立したナレッジネットワークを表します。

### **ノード**
ナレッジネットワークのコアデータユニット：
- **ノード（一般ノード）**
  - **ROOT**: ナレッジベースのルートノード。
  - **SUBJECT**: トピックのルートノード。
  - **QUESTION**: 検索用のノード。AIによって生成されます。
  - **PROMPT**: 質問やヒントのノード。
  - **INFO**: AIによって生成された情報ノード（テキスト、ドキュメント、ウェブサイトなど）。
  - **HUMAN**: 手動で作成されたナレッジノード。

### **関係**
- **HAS_CHILD**: 親子関係を表します。
- **RELATED_TO**: ノード間のリンクを表します。

## **データベース構造**
### **リレーショナルデータベース（PostgreSQL）**
- **ナレッジベーステーブル**: ナレッジベースの基本情報を保存します。
- **ナレッジベーストピックテーブル**: 異なるナレッジトピックを保存します。
- **ユーザーデータテーブル**: マルチユーザー分離のためのユーザーデータを管理します。

### **グラフデータベース（Neo4j）**
- **ノード**: 各ノードには**lib_id**と**subject_id**があり、データの分離を保証します。
- **関係**: 階層と関連関係を定義します。
- **ベクトルストレージ**:
  - **テキスト埋め込み**: 各テキストノードには`embedding`属性が含まれます。
  - **Neo4j HNSWベクトルインデックス**: 効率的な類似性検索を可能にします。

### **Milvus（将来のベクトルデータベース）**
- 質問/回答の埋め込みを保存し、類似性検索の効率を向上させる予定です。

### **データベース構造の説明**
#### **リレーショナルデータベース（PostgreSQL）**
- **ナレッジベース**: ナレッジベースの基本情報を保存します。
- **ナレッジベーストピック**: 各トピックの情報を保存します。
- **ユーザーデータ**: ユーザーデータを管理し、ナレッジベースのユーザー分離を実現します。

#### **グラフデータベース（Neo4j）**
- **ノード**
  - **ROOT**, **SUBJECT**, **QUESTION**, **PROMPT**, **INFO**, **HUMAN**.
  - 補助ノード（**エンティティ**, **キーワード**, **タグ**, など）はネットワーク図には表示されませんが、ノードプロパティで表示および管理できます。
- **関係**: HAS_CHILDとRELATED_TO。**lib_id**と**subject_id**を含み、異なるナレッジベース間のデータ分離を保証します。
- **ベクトルストレージ**: Neo4jに埋め込みを保存し、HNSWインデックスを使用して効率的な類似性検索を実現します。

---

## **5. 貢献ガイドライン**
### **貢献方法**
1. リポジトリをフォークします。
2. リポジトリをローカルにクローンします：
   ```bash
   git clone https://github.com/troyyang/WiseNet.git
   ```
3. 新しいブランチを作成します：
   ```bash
   git checkout -b feature/あなたの機能
   ```
4. 変更をコミットしてプッシュします：
   ```bash
   git commit -m "新しい機能を追加"
   git push origin feature/あなたの機能
   ```
5. プルリクエストを提出し、レビューを待ちます。

---

## **6. デプロイ**

### **6.1 ローカルデプロイ（Poetryを使用）**

#### **OS別デプロイガイド**

##### **Windows**
1. [Python](https://www.python.org/downloads/)をインストール（PATHに追加）。
2. [Poetry](https://python-poetry.org/docs/#installation)をインストール。
3. [Docker Desktop](https://www.docker.com/products/docker-desktop/)をインストール。

#### **macOS/Linux**
1. Homebrewまたはシステムパッケージマネージャーを使用してPythonをインストール。
2. [公式ドキュメント](https://python-poetry.org/docs/#installation)に従ってPoetryをインストール。
3. DockerとDocker Composeをインストール。

### **リポジトリをクローン**
```bash
git clone https://github.com/troyyang/WiseNet.git
cd WiseNet
```

### **仮想環境を設定**
```bash
cp .env.example .env
```
`.env`ファイルを必要な設定に変更します。

### **依存サービスを起動**
DockerとDocker Composeがインストールされ、実行中であることを確認します。
```bash
docker compose -f docker-compose-base.yml up -d
```
ローカルモデルでGPUを使用する場合：
```bash
docker compose -f docker-compose-base-gpu.yml up -d
```

#### **Neo4jのインストールを確認**
```bash
docker logs neo4j
```
次の出力を待ちます：
```
2025-02-10 02:52:59.873+0000 INFO  Remote interface available at http://localhost:7474/
2025-02-10 02:52:59.875+0000 INFO  Started.
```
Neo4j Dockerコンテナが初めて起動する場合、プラグインがインストールされます：
```
Installing Plugin 'graph-data-science' from https://graphdatascience.ninja/neo4j-graph-data-science-2.13.2.jar to /var/lib/neo4j/plugins/graph-data-science.jar
```
インストールが完了するまで待ちます。

#### **Ollamaのインストールを確認**
```bash
docker logs ollama
```
次の出力を確認します：
```
All models pulled successfully.
```
ローカルモデルを確認：
```bash
docker exec -it ollama ollama list
```
モデルがリストされていない場合、手動でプルします：
```bash
docker exec -it ollama ollama pull llama3.1
docker exec -it ollama ollama pull wizardlm2
```

#### **FastAPIバックエンドを実行**
Python 3.10.12とpipがインストールされていることを確認します。

バックエンドディレクトリに移動：
```bash
cd app
```
Poetryをインストール：
```bash
pip install poetry
```
Poetry環境に入る：
```bash
poetry shell
```
依存関係をインストール：
```bash
poetry install
```
Babelをインストール：
```bash
pip install Babel
```
i18nメッセージを翻訳：
```bash
pybabel compile -d translations
```
FastAPIバックエンドを実行：
```bash
python main.py
```

#### **フロントエンドを起動**
Node.js v18.0.0とnpm v8.6.0がインストールされていることを確認します。

フロントエンドディレクトリに移動し、依存関係をインストール：
```bash
cd frontend
npm install
npm run dev
```

### **6.2 Dockerデプロイ**

#### **リポジトリをクローン**
```bash
git clone https://github.com/troyyang/WiseNet.git
cd WiseNet
```

### **仮想環境を設定**
```bash
cp .env.example .env
```
`.env`ファイルを必要な設定に変更します。
特に、`FRONTEND_API_BASE_URL='http://your-domain:8088'`を変更します。

### **install.shを実行**
```bash
./install.sh
```

[http://localhost:3000/](http://localhost:3000/)にアクセスしてフロントエンドを表示します。Windowsユーザー向けの`.bat`スクリプトも利用可能です。

---

## **7. 将来の計画**
- **ローカルLLMの統合**: プライベートデプロイ機能を改善し、より多くのローカルモデルをサポートします。
- **ナレッジグラフの視覚的インタラクション機能を強化**: 動的更新、ノードのドラッグ、関係の編集などをサポートします。
- **Milvusへの移行**: より効率的なベクトル検索を実現し、大規模なナレッジベースをサポートします。
- **RESTful APIとWebSocketのサポート**: 他のシステムとの統合を容易にします。
- **マルチユーザーサポート**: マルチユーザーの同時アクセスをサポートし、ユーザー権限管理機能を提供します。
- **ナレッジベースのバージョン管理**: ナレッジベースのバージョン管理とロールバック機能をサポートします。
- **リアルタイムナレッジ更新**: ウェブサイトの更新を自動追跡し、最新のコンテンツをナレッジベースにリアルタイムで同期します。
- **マルチモーダルサポート**: 画像や音声などのマルチモーダルデータに拡張し、より豊かなナレッジネットワークを構築します。
- **分析機能の強化**: 因果推論やトレンド予測などのAI分析ツールを導入し、ナレッジネットワークの洞察力を高めます。

---

## **8. ライセンス**  
このプロジェクトは**GPL-3.0**ライセンスの下で提供され、自由に使用および改変できます。  

---

## **9. 付録**  

### **よくある質問（FAQ）**  
- **ナレッジネットワークの構築速度を向上させるには？**  
  - 並列処理タスクを増やし、LLM呼び出し戦略を最適化し、より効率的なベクトル検索アルゴリズムを使用します。  
- **WiseNetの機能を拡張するには？**  
  - WiseNetのモジュール式アーキテクチャにより、新しいモジュールやプラグインを追加することで拡張できます。例えば、追加のLLMモデルを統合したり、新しいデータソースをサポートしたりできます。  

### **関連リソース**  
- [Neo4j公式ドキュメント](https://neo4j.com/docs/)  
- [Milvus公式ドキュメント](https://milvus.io/docs/)  
- [D3.js公式ドキュメント](https://d3js.org/)  
- [FastAPI公式ドキュメント](https://fastapi.tiangolo.com/)  
- [Arco Design Vue公式ドキュメント](https://arco.design/vue/)

### **お問い合わせ**  
質問や提案がある場合は、[troy.yang2@gmail.com](mailto:troy.yang2@gmail.com)までご連絡ください。  

---